!function(){!function(e,t,s){s=s||window;var r=!1;s.addEventListener(e,function(){r||(r=!0,requestAnimationFrame(function(){s.dispatchEvent(new CustomEvent(t)),r=!1}))})}("resize","optimizedResize");const e={navElem:document.querySelector(".nav"),scrolledClass:"scrolled",stickMenuToggle(){600<=scrollY?this.navElem.classList.add(this.scrolledClass):this.navElem.classList.remove(this.scrolledClass),window.addEventListener("scroll",e=>{600<=scrollY?this.navElem.classList.add(this.scrolledClass):this.navElem.classList.remove(this.scrolledClass)})},init(){this.stickMenuToggle()}};new Swiper(".gallery-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{200:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:16},992:{slidesPerView:3,spaceBetween:16}}}),new Swiper(".review-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{200:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:16},992:{slidesPerView:3,spaceBetween:16}}});!function(){for(let t of document.querySelectorAll('a[href*="#"]'))t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})})}(),e.init(),function(){const e=document.querySelectorAll("input.zip-modal-open");e.forEach(t=>{const s=t.closest("form.enter-zip-code-wrap"),r=s.querySelector(".error-msg");s.addEventListener("submit",e=>{e.preventDefault(),5===t.value.length?(function(e){const t=document.querySelector(".main-content"),s=document.querySelector(".quiz.modal"),r=document.querySelector("input.zip-input");r.value=e,t.classList.add("overflow"),s.classList.add("show")}(t.value),s.reset()):r.innerText="Enter valid zip-code: 6 numbers"}),t.addEventListener("input",e=>{var t=e.target.value.replace(/\D/g,"").match(/(\d{0,5})/);e.target.value=t[1],5===e.target.value.length&&(r.innerText="")})})}();const n=new class{constructor(e){this.form=document.querySelector(e.form),this.steps=this.form.querySelectorAll(e.steps),this.progress=document.querySelector(e.progress),this.applyBtnSelector=e.nextBtn,this.reg={email:/^(([0-9A-Za-z]{1}[-0-9A-z\.]{1,}[0-9A-Za-z]{1})@([-A-Za-z]{1,}\.){1,2}[-A-Za-z]{2,})$/,name:/^([a-zA-Z]{1,}\s{0,}[a-zA-Z]{1,}'?-?[a-zA-Z]{1,}\s?([a-zA-Z]{1,})?)$/},this.step=0,this.stepsAmount=this.steps.length,this.init()}closeModalWindow(){const e=document.querySelector(".main-content"),t=document.querySelector(".quiz.modal"),s=document.querySelector("#are-you-shure"),r=document.querySelector("#are-you-shure-price"),o=document.querySelector(".to-home-page"),n=this.form.querySelectorAll(".error-msg"),i=this.form.querySelectorAll(this.applyBtnSelector),a=this.form.querySelectorAll(".yes-btn, .no-btn"),l=this.form.querySelectorAll(".data-info"),c=this.form.querySelectorAll(".fancy-input");e.classList.remove("overflow"),t.classList.remove("show"),r.classList.remove("show"),s.classList.remove("show"),o.classList.remove("show"),this.form.reset(),this.toStep(0),i.forEach(e=>{e.classList.remove("hide"),"disable"===e.dataset.state&&e.setAttribute("disabled","disabled")}),a.forEach(e=>e.classList.add("hide")),l.forEach(e=>e.innerText=""),n.forEach(e=>e.innerText=""),c.forEach(e=>e.classList.remove("error"))}toggleConfirmExitWindow(){const e=document.querySelector(".quiz.modal"),t=document.querySelector("#are-you-shure");t.classList.toggle("show"),e.classList.toggle("show")}openGoToHomeWindow(){const e=document.querySelector(".quiz.modal"),t=document.querySelector(".to-home-page");t.classList.add("show"),e.classList.remove("show")}openPriceDialogWindow(){const e=document.querySelector(".quiz.modal"),t=document.querySelector("#are-you-shure-price");t.classList.add("show"),e.classList.remove("show")}toStep(e){this.step=e,this.steps.forEach((e,t)=>{t<this.step?(e.classList.remove("active","next"),e.classList.add("prev")):t===this.step?(e.classList.remove("prev","next"),e.classList.add("active")):(e.classList.remove("prev","active"),e.classList.add("next"))}),this.updateHeroMsg(this.steps[this.step]),this.progressUpdate()}progressUpdate(){this.progress.style.width=100/this.stepsAmount*(this.step+1)+"%"}nextStep(){this.step++,this.toStep(this.step)}validate(e){const t=e.querySelectorAll("input");let s=!1;return t.forEach(e=>{"phone"===e.name&&this.validateTel(e)&&(s=!0),"name"===e.name&&this.validateName(e)&&(s=!0),("address"===e.name&&this.validateAddress(e)||"email"===e.name&&this.validateEmail(e))&&(s=!0)}),!s}validateEmail(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,o="";return e.value?this.reg.email.test(e.value.trim())||(r=!0,o="Enter valid email please"):(r=!0,o="Enter your email please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=o,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}validateAddress(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,o="";return e.value||(r=!0,o="Enter a valid address please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=o,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}validateName(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg"),r=e.value.trim();let o=!1,n="";return r?r.trim().includes(" ")?this.reg.name.test(r.trim())||(o=!0,n="Enter valid full name, only latter and space"):(o=!0,n="Enter valid full name: first name and last name"):(o=!0,n="Enter your full name please"),o?t.classList.add("error"):t.classList.remove("error"),s.innerText=n,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),o}validateTel(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");var r=e.value.trim();let o=!1,n="";return r?r.length<14&&(o=!0,n="Enter valid phone number please"):(o=!0,n="Enter your phone number please"),o?t.classList.add("error"):t.classList.remove("error"),s.innerText=n,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),o}updateConfirmPhone(e){if(this.form.querySelector(".phone-confirm")){const t=this.form.querySelector(".phone-confirm");t.innerText=e}}updateHeroMsg(e){const t=document.querySelector("#hero-msg");e.dataset.info?t.innerText=e.dataset.info:t.innerText=""}submitForm(e){const t=document.querySelector(".submit-preloader");t.classList.add("active");const s=e.querySelectorAll("input, select, button"),r=new FormData(e),o={stream_key:localStorage.getItem("stream_key"),order:{}};for(var n of r.entries()){var i=n[0];const a=n[1];"phone"===i?o[i]=a.replace(/\D+/g,""):"email"===i?o[i]=a.toLowerCase():"name"===i||"zip"===i?o[i]=a:o.order[i]=a}fetch("https://hm.afflifter.com/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{document.location.href="./success.html"+window.location.search,this.enableFormInputs(s),t.classList.remove("active"),this.closeModalWindow()})}enableFormInputs(e){e.forEach(e=>{e.removeAttribute("disabled")})}disableFormInputs(e){e.forEach(e=>{e.setAttribute("disabled",!0)})}init(){const e=this.form.querySelector(".change-phone"),t=document.querySelector(".close-modal-btn"),s=document.querySelector("#are-you-shure .exit"),r=document.querySelector(".to-home-page .exit"),o=document.querySelector("#are-you-shure .continue");function i(e){"Enter"!==e.key&&"Tab"!==e.key||e.preventDefault()}this.progressUpdate(),this.steps[this.step].classList.remove("prev","next"),this.steps[this.step].classList.add("active"),this.updateHeroMsg(this.steps[this.step]),this.steps.forEach(t=>{const s=t.querySelector(this.applyBtnSelector),r=t.querySelector(".yes-btn"),o=t.querySelector(".no-btn"),e=t.querySelectorAll("input"),n=t.querySelector(".data-info");e.forEach(t=>{"radio"===t.type?t.addEventListener("change",e=>{t.checked?s.removeAttribute("disabled"):s.setAttribute("disabled"),t.dataset.info?(n.innerText=t.dataset.info,r.classList.remove("hide"),o.classList.remove("hide"),s.classList.add("hide")):(n.innerText="",r.classList.add("hide"),o.classList.add("hide"),s.classList.remove("hide"))}):"phone"===t.name&&t.addEventListener("input",e=>{var t=e.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);e.target.value="("+t[1]+") "+t[2]+"-"+t[3],this.updateConfirmPhone(e.target.value)}),t.addEventListener("keydown",i)});try{o.id&&"high-price-btn"===o.id?o.addEventListener("click",e=>{e.preventDefault(),this.openPriceDialogWindow()}):o.addEventListener("click",e=>{e.preventDefault(),this.openGoToHomeWindow()}),o.addEventListener("keydown",i)}catch(e){}try{r.addEventListener("click",e=>{e.preventDefault(),this.validate(t)&&this.nextStep()}),r.addEventListener("keydown",i)}catch(e){}try{s.classList.contains("submit")||(s.addEventListener("click",e=>{e.preventDefault(),this.validate(t)&&this.nextStep()}),s.addEventListener("keydown",i))}catch(e){}}),e.addEventListener("click",e=>{e.preventDefault(),this.toStep(this.step-1)}),t.addEventListener("click",e=>{this.toggleConfirmExitWindow()}),s.addEventListener("click",e=>{e.preventDefault(),this.closeModalWindow()}),r.addEventListener("click",e=>{e.preventDefault(),this.closeModalWindow()}),o.addEventListener("click",e=>{e.preventDefault(),this.toggleConfirmExitWindow()}),this.form.addEventListener("submit",e=>{e.preventDefault(),this.submitForm(this.form)})}}({form:"#step-form",steps:".step",progress:"#form-progress",nextBtn:".aplay-btn"});!function(e){const s=document.querySelector(e.formSelector);function t(){const e=s.querySelectorAll("input");let t=!1;return e.forEach(e=>{"email"===e.name&&function(e){const t=e.closest(".fancy-input"),s=t.querySelector(".error-msg");let r=!1,o="";return e.value?/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e.value)||(r=!0,o="Enter valid email please"):(r=!0,o="Enter your email please"),r?t.classList.add("error"):t.classList.remove("error"),s.innerText=o,e.addEventListener("input",e=>{t.classList.remove("error"),s.innerText=""}),r}(e)&&(t=!0)}),!t}s.addEventListener("submit",o=>{if(o.preventDefault(),t()){let r="";r+=e.baseURL,e.qustionID.forEach(e=>{for(var t in e){var s;Object.hasOwnProperty.call(e,t)&&(s=o.currentTarget.querySelector('*[name="'+t+'"]'),r+=`${encodeURIComponent(e[t])}=${encodeURIComponent(s.value)}&`)}}),r=r.substring(0,r.length-1),r+=e.submitRef,s.setAttribute("action",r),function(e){const t=s.querySelectorAll("input, select, button");t.forEach(e=>{e.setAttribute("disabled",!0)}),fetch(e,{method:"POST",mode:"no-cors",body:new FormData(s)}).then(e=>{0===e.status&&(s.reset(),t.forEach(e=>{e.removeAttribute("disabled")}),n.closeModalWindow())})}(r)}})}({formSelector:"#are-you-shure-price form",baseURL:"https://docs.google.com/forms/u/0/d/e/1FAIpQLSfpCRh-esd0Qx0F1rRKpSPItX5v2i63FUgQgz3NTvMRInXmQA/formResponse?",qustionID:[{email:"entry.1494565932"}],submitRef:"&submit=-3334284426544938880"}),google.maps.event.addDomListener(window,"load",function(){var e=document.getElementsByClassName("input-street")[0];new google.maps.places.Autocomplete(e,{types:["address"],placeholder:" ",componentRestrictions:{country:["us"]}})})}();